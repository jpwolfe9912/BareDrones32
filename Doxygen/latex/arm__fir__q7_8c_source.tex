\hypertarget{arm__fir__q7_8c_source}{}\doxysection{arm\+\_\+fir\+\_\+q7.\+c}
\label{arm__fir__q7_8c_source}\index{Autodrone32/Libraries/CMSIS/DSP/FilteringFunctions/arm\_fir\_q7.c@{Autodrone32/Libraries/CMSIS/DSP/FilteringFunctions/arm\_fir\_q7.c}}
\mbox{\hyperlink{arm__fir__q7_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00001}00001 \textcolor{comment}{/* -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00002}00002 \textcolor{comment}{ * Project:      CMSIS DSP Library}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00003}00003 \textcolor{comment}{ * Title:        arm\_fir\_q7.c}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00004}00004 \textcolor{comment}{ * Description:  Q7 FIR filter processing function}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00005}00005 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00006}00006 \textcolor{comment}{ * \$Date:        23 April 2021}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00007}00007 \textcolor{comment}{ * \$Revision:    V1.9.0}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00008}00008 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00009}00009 \textcolor{comment}{ * Target Processor: Cortex-\/M and Cortex-\/A cores}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00010}00010 \textcolor{comment}{ * -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00011}00011 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00012}00012 \textcolor{comment}{ * Copyright (C) 2010-\/2021 ARM Limited or its affiliates. All rights reserved.}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00013}00013 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00014}00014 \textcolor{comment}{ * SPDX-\/License-\/Identifier: Apache-\/2.0}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00015}00015 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00016}00016 \textcolor{comment}{ * Licensed under the Apache License, Version 2.0 (the License); you may}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00017}00017 \textcolor{comment}{ * not use this file except in compliance with the License.}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00018}00018 \textcolor{comment}{ * You may obtain a copy of the License at}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00019}00019 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00020}00020 \textcolor{comment}{ * www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00021}00021 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00022}00022 \textcolor{comment}{ * Unless required by applicable law or agreed to in writing, software}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00023}00023 \textcolor{comment}{ * distributed under the License is distributed on an AS IS BASIS, WITHOUT}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00024}00024 \textcolor{comment}{ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00025}00025 \textcolor{comment}{ * See the License for the specific language governing permissions and}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00026}00026 \textcolor{comment}{ * limitations under the License.}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00027}00027 \textcolor{comment}{ */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00029}00029 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{filtering__functions_8h}{dsp/filtering\_functions.h}}"{}}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00057}00057 \textcolor{preprocessor}{\#if defined(ARM\_MATH\_MVEI) \&\& !defined(ARM\_MATH\_AUTOVECTORIZE)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00059}00059 \textcolor{preprocessor}{\#define FIR\_Q7\_CORE(pOutput, nbAcc, nbVecTaps, pSample, vecCoeffs)         \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00060}00060 \textcolor{preprocessor}{        for (int j = 0; j < nbAcc; j++) \{                                  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00061}00061 \textcolor{preprocessor}{            const q7\_t     *pSmp = \&pSample[j];                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00062}00062 \textcolor{preprocessor}{            q31\_t           acc[4];                                        \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00063}00063 \textcolor{preprocessor}{                                                                           \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00064}00064 \textcolor{preprocessor}{            acc[j] = 0;                                                    \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00065}00065 \textcolor{preprocessor}{            for (int i = 0; i < nbVecTaps; i++) \{                          \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00066}00066 \textcolor{preprocessor}{                vecIn0 = vld1q(pSmp + 16 * i);                   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00067}00067 \textcolor{preprocessor}{                acc[j] = vmladavaq(acc[j], vecIn0, vecCoeffs[i]);          \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00068}00068 \textcolor{preprocessor}{            \}                                                              \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00069}00069 \textcolor{preprocessor}{            *pOutput++ = (q7\_t) \_\_SSAT((acc[j] >> 7U), 8);                 \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00070}00070 \textcolor{preprocessor}{        \}}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00072}00072 \textcolor{preprocessor}{\#define FIR\_Q7\_MAIN\_CORE()                                                                  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00073}00073 \textcolor{preprocessor}{\{                                                                                           \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00074}00074 \textcolor{preprocessor}{     q7\_t          *pState = S-\/>pState;     }\textcolor{comment}{/* State pointer */}\textcolor{preprocessor}{                             \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00075}00075 \textcolor{preprocessor}{    const q7\_t    *pCoeffs = S-\/>pCoeffs;   }\textcolor{comment}{/* Coefficient pointer */}\textcolor{preprocessor}{                        \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00076}00076 \textcolor{preprocessor}{    q7\_t          *pStateCur;              }\textcolor{comment}{/* Points to the current sample of the state */}\textcolor{preprocessor}{  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00077}00077 \textcolor{preprocessor}{    const q7\_t    *pSamples;               }\textcolor{comment}{/* Temporary pointer to the sample buffer */}\textcolor{preprocessor}{     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00078}00078 \textcolor{preprocessor}{    q7\_t          *pOutput;                }\textcolor{comment}{/* Temporary pointer to the output buffer */}\textcolor{preprocessor}{     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00079}00079 \textcolor{preprocessor}{    const q7\_t    *pTempSrc;               }\textcolor{comment}{/* Temporary pointer to the source data */}\textcolor{preprocessor}{       \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00080}00080 \textcolor{preprocessor}{    q7\_t          *pTempDest;              }\textcolor{comment}{/* Temporary pointer to the destination buffer */}\textcolor{preprocessor}{\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00081}00081 \textcolor{preprocessor}{    uint32\_t       numTaps = S-\/>numTaps;   }\textcolor{comment}{/* Number of filter coefficients in the filter */}\textcolor{preprocessor}{\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00082}00082 \textcolor{preprocessor}{    int32\_t        blkCnt;                                                                  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00083}00083 \textcolor{preprocessor}{    q7x16\_t        vecIn0;                                                                  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00084}00084 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00085}00085 \textcolor{preprocessor}{    }\textcolor{comment}{/*                                                                                      \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00086}00086 \textcolor{comment}{     * load coefs                                                                           \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00087}00087 \textcolor{comment}{     */}\textcolor{preprocessor}{                                                                                     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00088}00088 \textcolor{preprocessor}{    q7x16\_t         vecCoeffs[NBVECTAPS];                                                   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00089}00089 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00090}00090 \textcolor{preprocessor}{    for (int i = 0; i < NBVECTAPS; i++)                                                     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00091}00091 \textcolor{preprocessor}{        vecCoeffs[i] = vldrbq\_s8(pCoeffs + 16 * i);                               \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00092}00092 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00093}00093 \textcolor{preprocessor}{    }\textcolor{comment}{/*                                                                                      \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00094}00094 \textcolor{comment}{     * pState points to state array which contains previous frame (numTaps -\/ 1) samples     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00095}00095 \textcolor{comment}{     * pStateCur points to the location where the new input data should be written          \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00096}00096 \textcolor{comment}{     */}\textcolor{preprocessor}{                                                                                     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00097}00097 \textcolor{preprocessor}{    pStateCur = \&(pState[(numTaps -\/ 1u)]);                                                  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00098}00098 \textcolor{preprocessor}{    pTempSrc = pSrc;                                                                        \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00099}00099 \textcolor{preprocessor}{    pSamples = pState;                                                                      \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00100}00100 \textcolor{preprocessor}{    pOutput = pDst;                                                                         \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00101}00101 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00102}00102 \textcolor{preprocessor}{    blkCnt = blockSize >> 2;                                                                \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00103}00103 \textcolor{preprocessor}{    while (blkCnt > 0) \{                                                                   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00104}00104 \textcolor{preprocessor}{        }\textcolor{comment}{/*                                                                                  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00105}00105 \textcolor{comment}{         * Save 4 input samples in the history buffer                                       \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00106}00106 \textcolor{comment}{         */}\textcolor{preprocessor}{                                                                                 \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00107}00107 \textcolor{preprocessor}{        vstrbq\_s32(pStateCur, vldrbq\_s32(pTempSrc));                                        \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00108}00108 \textcolor{preprocessor}{        pStateCur += 4;                                                                     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00109}00109 \textcolor{preprocessor}{        pTempSrc += 4;                                                                      \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00110}00110 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00111}00111 \textcolor{preprocessor}{        FIR\_Q7\_CORE(pOutput, 4, NBVECTAPS, pSamples, vecCoeffs);                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00112}00112 \textcolor{preprocessor}{        pSamples += 4;                                                                      \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00113}00113 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00114}00114 \textcolor{preprocessor}{        blkCnt-\/-\/;                                                                           \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00115}00115 \textcolor{preprocessor}{    \}                                                                                       \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00116}00116 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00117}00117 \textcolor{preprocessor}{    }\textcolor{comment}{/* tail */}\textcolor{preprocessor}{                                                                              \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00118}00118 \textcolor{preprocessor}{    int32\_t        residual = blockSize \& 3;                                               \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00119}00119 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00120}00120 \textcolor{preprocessor}{    for (int i = 0; i < residual; i++)                                                      \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00121}00121 \textcolor{preprocessor}{        *pStateCur++ = *pTempSrc++;                                                         \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00122}00122 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00123}00123 \textcolor{preprocessor}{    FIR\_Q7\_CORE(pOutput, residual, NBVECTAPS, pSamples, vecCoeffs);                         \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00124}00124 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00125}00125 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00126}00126 \textcolor{preprocessor}{    }\textcolor{comment}{/*                                                                                      \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00127}00127 \textcolor{comment}{     * Copy the samples back into the history buffer start                                  \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00128}00128 \textcolor{comment}{     */}\textcolor{preprocessor}{                                                                                     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00129}00129 \textcolor{preprocessor}{    pTempSrc = \&pState[blockSize];                                                          \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00130}00130 \textcolor{preprocessor}{    pTempDest = pState;                                                                     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00131}00131 \textcolor{preprocessor}{    blkCnt = numTaps -\/ 1;                                                                   \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00132}00132 \textcolor{preprocessor}{    do \{                                                                                    \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00133}00133 \textcolor{preprocessor}{        mve\_pred16\_t    p = vctp8q(blkCnt);                                                 \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00134}00134 \textcolor{preprocessor}{                                                                                            \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00135}00135 \textcolor{preprocessor}{        vstrbq\_p\_s8(pTempDest, vldrbq\_z\_s8(pTempSrc, p), p);                                \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00136}00136 \textcolor{preprocessor}{        pTempSrc += 16;                                                           \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00137}00137 \textcolor{preprocessor}{        pTempDest += 16;                                                          \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00138}00138 \textcolor{preprocessor}{        blkCnt -\/= 16;                                                             \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00139}00139 \textcolor{preprocessor}{    \}                                                                                       \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00140}00140 \textcolor{preprocessor}{    while (blkCnt > 0);                                                                     \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00141}00141 \textcolor{preprocessor}{\}}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00142}00142 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00143}00143 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00144}00144 \textcolor{keyword}{static} \textcolor{keywordtype}{void} arm\_fir\_q7\_49\_64\_mve(\textcolor{keyword}{const} \mbox{\hyperlink{structarm__fir__instance__q7}{arm\_fir\_instance\_q7}} * S,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00145}00145   \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * \_\_restrict pSrc,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00146}00146   \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * \_\_restrict pDst, uint32\_t blockSize)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00147}00147 \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00148}00148 \textcolor{preprocessor}{    \#define NBTAPS 64}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00149}00149 \textcolor{preprocessor}{    \#define NBVECTAPS (NBTAPS / 16)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00150}00150     FIR\_Q7\_MAIN\_CORE();}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00151}00151 \textcolor{preprocessor}{    \#undef NBVECTAPS}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00152}00152 \textcolor{preprocessor}{    \#undef NBTAPS}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00153}00153 \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00155}00155 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00156}00156 \textcolor{keywordtype}{void} arm\_fir\_q7\_33\_48\_mve(\textcolor{keyword}{const} \mbox{\hyperlink{structarm__fir__instance__q7}{arm\_fir\_instance\_q7}} * S,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00157}00157   \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * \_\_restrict pSrc,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00158}00158   \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * \_\_restrict pDst, uint32\_t blockSize)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00159}00159 \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00160}00160 \textcolor{preprocessor}{    \#define NBTAPS 48}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00161}00161 \textcolor{preprocessor}{    \#define NBVECTAPS (NBTAPS / 16)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00162}00162     FIR\_Q7\_MAIN\_CORE();}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00163}00163 \textcolor{preprocessor}{    \#undef NBVECTAPS}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00164}00164 \textcolor{preprocessor}{    \#undef NBTAPS}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00165}00165 \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00166}00166 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00167}00167 \textcolor{keyword}{static} \textcolor{keywordtype}{void} arm\_fir\_q7\_17\_32\_mve(\textcolor{keyword}{const} \mbox{\hyperlink{structarm__fir__instance__q7}{arm\_fir\_instance\_q7}} * S,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00168}00168   \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * \_\_restrict pSrc,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00169}00169   \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * \_\_restrict pDst, uint32\_t blockSize)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00170}00170 \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00171}00171 \textcolor{preprocessor}{    \#define NBTAPS 32}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00172}00172 \textcolor{preprocessor}{    \#define NBVECTAPS (NBTAPS / 16)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00173}00173     FIR\_Q7\_MAIN\_CORE();}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00174}00174 \textcolor{preprocessor}{    \#undef NBVECTAPS}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00175}00175 \textcolor{preprocessor}{    \#undef NBTAPS}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00176}00176 \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00177}00177 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00178}00178 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00179}00179 \textcolor{keywordtype}{void} arm\_fir\_q7\_1\_16\_mve(\textcolor{keyword}{const} \mbox{\hyperlink{structarm__fir__instance__q7}{arm\_fir\_instance\_q7}} * S,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00180}00180   \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * \_\_restrict pSrc,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00181}00181   \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * \_\_restrict pDst, uint32\_t blockSize)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00182}00182 \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00183}00183 \textcolor{preprocessor}{    \#define NBTAPS 16}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00184}00184 \textcolor{preprocessor}{    \#define NBVECTAPS (NBTAPS / 16)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00185}00185     FIR\_Q7\_MAIN\_CORE();}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00186}00186 \textcolor{preprocessor}{    \#undef NBVECTAPS}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00187}00187 \textcolor{preprocessor}{    \#undef NBTAPS}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00188}00188 \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00189}00189 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00190}00190 \textcolor{keywordtype}{void} \mbox{\hyperlink{group___f_i_r_gac333f1139ef35124e89b0ee7494ad0a2}{arm\_fir\_q7}}(}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00191}00191   \textcolor{keyword}{const} \mbox{\hyperlink{structarm__fir__instance__q7}{arm\_fir\_instance\_q7}} * S,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00192}00192   \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * pSrc,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00193}00193         \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * pDst,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00194}00194         uint32\_t blockSize)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00195}00195 \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00196}00196     \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pState = S-\/>\mbox{\hyperlink{structarm__fir__instance__q7_aa8f67102521b620af6f259afdcf29785}{pState}};   \textcolor{comment}{/* State pointer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00197}00197     \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pCoeffs = S-\/>\mbox{\hyperlink{structarm__fir__instance__q7_abe82cb517dbe44d3938c3b38265870b2}{pCoeffs}}; \textcolor{comment}{/* Coefficient pointer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00198}00198     \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pStateCur;        \textcolor{comment}{/* Points to the current sample of the state */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00199}00199     \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pSamples;         \textcolor{comment}{/* Temporary pointer to the sample buffer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00200}00200     \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pOutput;          \textcolor{comment}{/* Temporary pointer to the output buffer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00201}00201     \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pTempSrc;         \textcolor{comment}{/* Temporary pointer to the source data */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00202}00202     \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pTempDest;        \textcolor{comment}{/* Temporary pointer to the destination buffer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00203}00203     uint32\_t  numTaps = S-\/>\mbox{\hyperlink{structarm__fir__instance__q7_a751941891e47f522a7f5375fe8990aac}{numTaps}}; \textcolor{comment}{/* Number of filter coefficients in the filter */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00204}00204     uint32\_t  blkCnt;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00205}00205     q7x16\_t  vecIn0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00206}00206     uint32\_t  tapsBlkCnt = (numTaps + 15) / 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00207}00207     \mbox{\hyperlink{arm__math__types_8h_adc89a3547f5324b7b3b95adec3806bc0}{q31\_t}}     acc0, acc1, acc2, acc3;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00208}00208     q7x16\_t  vecCoeffs;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00209}00209 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00210}00210     \textcolor{keywordflow}{if} (numTaps <= 16)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00211}00211     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00212}00212         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00213}00213 \textcolor{comment}{         * [1 to 16 taps] specialized routine}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00214}00214 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00215}00215         arm\_fir\_q7\_1\_16\_mve(S, pSrc, pDst, blockSize);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00216}00216         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00217}00217     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00218}00218     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (numTaps <= 32)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00219}00219     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00220}00220         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00221}00221 \textcolor{comment}{         * [17 to 32 taps] specialized routine}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00222}00222 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00223}00223         arm\_fir\_q7\_17\_32\_mve(S, pSrc, pDst, blockSize);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00224}00224         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00225}00225     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00226}00226     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (numTaps <= 48)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00227}00227     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00228}00228         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00229}00229 \textcolor{comment}{         * [33 to 48 taps] specialized routine}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00230}00230 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00231}00231         arm\_fir\_q7\_33\_48\_mve(S, pSrc, pDst, blockSize);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00232}00232         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00233}00233     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00234}00234     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (numTaps <= 64)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00235}00235     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00236}00236         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00237}00237 \textcolor{comment}{         * [49 to 64 taps] specialized routine}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00238}00238 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00239}00239         arm\_fir\_q7\_49\_64\_mve(S, pSrc, pDst, blockSize);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00240}00240         \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00241}00241     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00242}00242 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00243}00243     \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00244}00244 \textcolor{comment}{     * pState points to state array which contains previous frame (numTaps -\/ 1) samples}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00245}00245 \textcolor{comment}{     * pStateCur points to the location where the new input data should be written}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00246}00246 \textcolor{comment}{     */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00247}00247     pStateCur   = \&(pState[(numTaps -\/ 1u)]);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00248}00248     pSamples    = pState;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00249}00249     pTempSrc    = pSrc;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00250}00250     pOutput     = pDst;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00251}00251     blkCnt      = blockSize >> 2;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00252}00252 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00253}00253     \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00254}00254 \textcolor{comment}{     * outer samples loop}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00255}00255 \textcolor{comment}{     */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00256}00256     \textcolor{keywordflow}{while} (blkCnt > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00257}00257     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00258}00258         \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pCoeffsTmp = pCoeffs;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00259}00259         \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pSamplesTmp = pSamples;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00260}00260 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00261}00261         acc0 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00262}00262         acc1 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00263}00263         acc2 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00264}00264         acc3 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00265}00265         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00266}00266 \textcolor{comment}{         * Save 16 input samples in the history buffer}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00267}00267 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00268}00268         vst1q(pStateCur, vld1q(pTempSrc));}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00269}00269         pStateCur += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00270}00270         pTempSrc += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00271}00271 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00272}00272         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00273}00273 \textcolor{comment}{         * inner coefficients loop}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00274}00274 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00275}00275         \textcolor{keywordtype}{int}       i = tapsBlkCnt;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00276}00276         \textcolor{keywordflow}{while} (i > 0)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00277}00277         \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00278}00278             \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00279}00279 \textcolor{comment}{             * load 16 coefs}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00280}00280 \textcolor{comment}{             */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00281}00281             vecCoeffs = *(q7x16\_t *) pCoeffsTmp;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00282}00282 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00283}00283             vecIn0 = vld1q(pSamplesTmp);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00284}00284             acc0 = vmladavaq(acc0, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00285}00285 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00286}00286             vecIn0 = vld1q(\&pSamplesTmp[1]);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00287}00287             acc1 = vmladavaq(acc1, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00288}00288 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00289}00289             vecIn0 = vld1q(\&pSamplesTmp[2]);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00290}00290             acc2 = vmladavaq(acc2, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00291}00291 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00292}00292             vecIn0 = vld1q(\&pSamplesTmp[3]);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00293}00293             acc3 = vmladavaq(acc3, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00294}00294 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00295}00295             pSamplesTmp += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00296}00296             pCoeffsTmp += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00297}00297             \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00298}00298 \textcolor{comment}{             * Decrement the taps block loop counter}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00299}00299 \textcolor{comment}{             */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00300}00300             i-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00301}00301         \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00302}00302         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00303}00303 \textcolor{comment}{         * Store the 1.7 format filter output in destination buffer}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00304}00304 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00305}00305         *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc0 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00306}00306         *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc1 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00307}00307         *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc2 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00308}00308         *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc3 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00309}00309 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00310}00310         pSamples += 4;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00311}00311         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00312}00312 \textcolor{comment}{         * Decrement the sample block loop counter}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00313}00313 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00314}00314         blkCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00315}00315     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00316}00316 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00317}00317     uint32\_t  residual = blockSize \& 3;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00318}00318     \textcolor{keywordflow}{switch} (residual)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00319}00319     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00320}00320     \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00321}00321         \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00322}00322             \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pCoeffsTmp = pCoeffs;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00323}00323             \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pSamplesTmp = pSamples;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00324}00324 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00325}00325             acc0 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00326}00326             acc1 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00327}00327             acc2 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00328}00328             \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00329}00329 \textcolor{comment}{             * Save 16 input samples in the history buffer}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00330}00330 \textcolor{comment}{             */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00331}00331             vst1q(pStateCur, vld1q(pTempSrc));}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00332}00332             pStateCur += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00333}00333             pTempSrc += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00334}00334 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00335}00335             \textcolor{keywordtype}{int}       i = tapsBlkCnt;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00336}00336             \textcolor{keywordflow}{while} (i > 0)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00337}00337             \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00338}00338                 vecCoeffs = *(q7x16\_t *) pCoeffsTmp;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00339}00339 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00340}00340                 vecIn0 = vld1q(pSamplesTmp);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00341}00341                 acc0 = vmladavaq(acc0, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00342}00342 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00343}00343                 vecIn0 = vld1q(\&pSamplesTmp[4]);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00344}00344                 acc1 = vmladavaq(acc1, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00345}00345 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00346}00346                 vecIn0 = vld1q(\&pSamplesTmp[8]);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00347}00347                 acc2 = vmladavaq(acc2, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00348}00348 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00349}00349                 pSamplesTmp += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00350}00350                 pCoeffsTmp += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00351}00351                 i-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00352}00352             \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00353}00353 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00354}00354             *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc0 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00355}00355             *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc1 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00356}00356             *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc2 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00357}00357         \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00358}00358         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00359}00359 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00360}00360     \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00361}00361         \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00362}00362             \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pCoeffsTmp = pCoeffs;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00363}00363             \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pSamplesTmp = pSamples;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00364}00364 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00365}00365             acc0 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00366}00366             acc1 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00367}00367             \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00368}00368 \textcolor{comment}{             * Save 16 input samples in the history buffer}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00369}00369 \textcolor{comment}{             */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00370}00370             vst1q(pStateCur, vld1q(pTempSrc));}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00371}00371             pStateCur += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00372}00372             pTempSrc += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00373}00373 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00374}00374             \textcolor{keywordtype}{int}       i = tapsBlkCnt;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00375}00375             \textcolor{keywordflow}{while} (i > 0)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00376}00376             \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00377}00377                 vecCoeffs = *(q7x16\_t *) pCoeffsTmp;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00378}00378 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00379}00379                 vecIn0 = vld1q(pSamplesTmp);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00380}00380                 acc0 = vmladavaq(acc0, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00381}00381 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00382}00382                 vecIn0 = vld1q(\&pSamplesTmp[4]);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00383}00383                 acc1 = vmladavaq(acc1, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00384}00384 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00385}00385                 pSamplesTmp += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00386}00386                 pCoeffsTmp += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00387}00387                 i-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00388}00388             \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00389}00389 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00390}00390             *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc0 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00391}00391             *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc1 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00392}00392         \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00393}00393         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00394}00394 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00395}00395     \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00396}00396         \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00397}00397             \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pCoeffsTmp = pCoeffs;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00398}00398             \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}     *pSamplesTmp = pSamples;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00399}00399 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00400}00400             acc0 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00401}00401             \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00402}00402 \textcolor{comment}{             * Save 16 input samples in the history buffer}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00403}00403 \textcolor{comment}{             */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00404}00404             vst1q(pStateCur, vld1q(pTempSrc));}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00405}00405             pStateCur += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00406}00406             pTempSrc += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00407}00407 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00408}00408             \textcolor{keywordtype}{int}       i = tapsBlkCnt;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00409}00409             \textcolor{keywordflow}{while} (i > 0)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00410}00410             \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00411}00411                 vecCoeffs = *(q7x16\_t *) pCoeffsTmp;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00412}00412 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00413}00413                 vecIn0 = vld1q(pSamplesTmp);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00414}00414                 acc0 = vmladavaq(acc0, vecIn0, vecCoeffs);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00415}00415 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00416}00416                 pSamplesTmp += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00417}00417                 pCoeffsTmp += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00418}00418                 i-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00419}00419             \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00420}00420             *pOutput++ = (\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}}) \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc0 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00421}00421         \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00422}00422         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00423}00423     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00424}00424 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00425}00425     \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00426}00426 \textcolor{comment}{     * Copy the samples back into the history buffer start}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00427}00427 \textcolor{comment}{     */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00428}00428     pTempSrc = \&pState[blockSize];}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00429}00429     pTempDest = pState;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00430}00430 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00431}00431     blkCnt = numTaps >> 4;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00432}00432     \textcolor{keywordflow}{while} (blkCnt > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00433}00433     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00434}00434         vst1q(pTempDest, vld1q(pTempSrc));}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00435}00435         pTempSrc += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00436}00436         pTempDest += 16;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00437}00437         blkCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00438}00438     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00439}00439     blkCnt = numTaps \& 0xF;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00440}00440     \textcolor{keywordflow}{if} (blkCnt > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00441}00441     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00442}00442         mve\_pred16\_t p0 = vctp8q(blkCnt);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00443}00443         vstrbq\_p\_s8(pTempDest, vld1q(pTempSrc), p0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00444}00444     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00445}00445 \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00446}00446 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00447}\mbox{\hyperlink{group___f_i_r_gac333f1139ef35124e89b0ee7494ad0a2}{00447}} \textcolor{keywordtype}{void} \mbox{\hyperlink{group___f_i_r_gac333f1139ef35124e89b0ee7494ad0a2}{arm\_fir\_q7}}(}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00448}00448   \textcolor{keyword}{const} \mbox{\hyperlink{structarm__fir__instance__q7}{arm\_fir\_instance\_q7}} * S,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00449}00449   \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * pSrc,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00450}00450         \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} * pDst,}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00451}00451         uint32\_t blockSize)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00452}00452 \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00453}00453         \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} *pState = S-\/>\mbox{\hyperlink{structarm__fir__instance__q7_aa8f67102521b620af6f259afdcf29785}{pState}};                      \textcolor{comment}{/* State pointer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00454}00454   \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} *pCoeffs = S-\/>\mbox{\hyperlink{structarm__fir__instance__q7_abe82cb517dbe44d3938c3b38265870b2}{pCoeffs}};                    \textcolor{comment}{/* Coefficient pointer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00455}00455         \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} *pStateCurnt;                             \textcolor{comment}{/* Points to the current sample of the state */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00456}00456         \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} *px;                                      \textcolor{comment}{/* Temporary pointer for state buffer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00457}00457   \textcolor{keyword}{const} \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} *pb;                                      \textcolor{comment}{/* Temporary pointer for coefficient buffer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00458}00458         \mbox{\hyperlink{arm__math__types_8h_adc89a3547f5324b7b3b95adec3806bc0}{q31\_t}} acc0;                                    \textcolor{comment}{/* Accumulators */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00459}00459         uint32\_t numTaps = S-\/>\mbox{\hyperlink{structarm__fir__instance__q7_a751941891e47f522a7f5375fe8990aac}{numTaps}};                 \textcolor{comment}{/* Number of filter coefficients in the filter */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00460}00460         uint32\_t i, tapCnt, blkCnt;                    \textcolor{comment}{/* Loop counters */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00461}00461 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00462}00462 \textcolor{preprocessor}{\#if defined (ARM\_MATH\_LOOPUNROLL)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00463}00463         \mbox{\hyperlink{arm__math__types_8h_adc89a3547f5324b7b3b95adec3806bc0}{q31\_t}} acc1, acc2, acc3;                        \textcolor{comment}{/* Accumulators */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00464}00464         \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\_t}} x0, x1, x2, x3, c0;                       \textcolor{comment}{/* Temporary variables to hold state */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00465}00465 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00466}00466 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00467}00467   \textcolor{comment}{/* S-\/>pState points to state array which contains previous frame (numTaps -\/ 1) samples */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00468}00468   \textcolor{comment}{/* pStateCurnt points to the location where the new input data should be written */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00469}00469   pStateCurnt = \&(S-\/>\mbox{\hyperlink{structarm__fir__instance__q7_aa8f67102521b620af6f259afdcf29785}{pState}}[(numTaps -\/ 1U)]);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00470}00470 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00471}00471 \textcolor{preprocessor}{\#if defined (ARM\_MATH\_LOOPUNROLL)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00472}00472 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00473}00473   \textcolor{comment}{/* Loop unrolling: Compute 4 output values simultaneously.}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00474}00474 \textcolor{comment}{   * The variables acc0 ... acc3 hold output values that are being computed:}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00475}00475 \textcolor{comment}{   *}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00476}00476 \textcolor{comment}{   *    acc0 =  b[numTaps-\/1] * x[n-\/numTaps-\/1] + b[numTaps-\/2] * x[n-\/numTaps-\/2] + b[numTaps-\/3] * x[n-\/numTaps-\/3] +...+ b[0] * x[0]}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00477}00477 \textcolor{comment}{   *    acc1 =  b[numTaps-\/1] * x[n-\/numTaps]   + b[numTaps-\/2] * x[n-\/numTaps-\/1] + b[numTaps-\/3] * x[n-\/numTaps-\/2] +...+ b[0] * x[1]}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00478}00478 \textcolor{comment}{   *    acc2 =  b[numTaps-\/1] * x[n-\/numTaps+1] + b[numTaps-\/2] * x[n-\/numTaps]   + b[numTaps-\/3] * x[n-\/numTaps-\/1] +...+ b[0] * x[2]}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00479}00479 \textcolor{comment}{   *    acc3 =  b[numTaps-\/1] * x[n-\/numTaps+2] + b[numTaps-\/2] * x[n-\/numTaps+1] + b[numTaps-\/3] * x[n-\/numTaps]   +...+ b[0] * x[3]}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00480}00480 \textcolor{comment}{   */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00481}00481   blkCnt = blockSize >> 2U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00482}00482 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00483}00483   \textcolor{keywordflow}{while} (blkCnt > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00484}00484   \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00485}00485     \textcolor{comment}{/* Copy 4 new input samples into the state buffer. */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00486}00486     *pStateCurnt++ = *pSrc++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00487}00487     *pStateCurnt++ = *pSrc++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00488}00488     *pStateCurnt++ = *pSrc++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00489}00489     *pStateCurnt++ = *pSrc++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00490}00490 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00491}00491     \textcolor{comment}{/* Set all accumulators to zero */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00492}00492     acc0 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00493}00493     acc1 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00494}00494     acc2 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00495}00495     acc3 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00496}00496 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00497}00497     \textcolor{comment}{/* Initialize state pointer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00498}00498     px = pState;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00499}00499 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00500}00500     \textcolor{comment}{/* Initialize coefficient pointer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00501}00501     pb = pCoeffs;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00502}00502 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00503}00503     \textcolor{comment}{/* Read the first 3 samples from the state buffer:}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00504}00504 \textcolor{comment}{     *  x[n-\/numTaps], x[n-\/numTaps-\/1], x[n-\/numTaps-\/2] */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00505}00505     x0 = *px++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00506}00506     x1 = *px++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00507}00507     x2 = *px++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00508}00508 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00509}00509     \textcolor{comment}{/* Loop unrolling. Process 4 taps at a time. */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00510}00510     tapCnt = numTaps >> 2U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00511}00511 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00512}00512     \textcolor{comment}{/* Loop over the number of taps.  Unroll by a factor of 4.}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00513}00513 \textcolor{comment}{       Repeat until we've computed numTaps-\/4 coefficients. */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00514}00514     \textcolor{keywordflow}{while} (tapCnt > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00515}00515     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00516}00516       \textcolor{comment}{/* Read the b[numTaps] coefficient */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00517}00517       c0 = *pb;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00518}00518 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00519}00519       \textcolor{comment}{/* Read x[n-\/numTaps-\/3] sample */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00520}00520       x3 = *px;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00521}00521 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00522}00522       \textcolor{comment}{/* acc0 +=  b[numTaps] * x[n-\/numTaps] */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00523}00523       acc0 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x0 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00524}00524 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00525}00525       \textcolor{comment}{/* acc1 +=  b[numTaps] * x[n-\/numTaps-\/1] */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00526}00526       acc1 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x1 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00527}00527 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00528}00528       \textcolor{comment}{/* acc2 +=  b[numTaps] * x[n-\/numTaps-\/2] */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00529}00529       acc2 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x2 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00530}00530 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00531}00531       \textcolor{comment}{/* acc3 +=  b[numTaps] * x[n-\/numTaps-\/3] */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00532}00532       acc3 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x3 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00533}00533 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00534}00534       \textcolor{comment}{/* Read the b[numTaps-\/1] coefficient */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00535}00535       c0 = *(pb + 1U);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00536}00536 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00537}00537       \textcolor{comment}{/* Read x[n-\/numTaps-\/4] sample */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00538}00538       x0 = *(px + 1U);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00539}00539 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00540}00540       \textcolor{comment}{/* Perform the multiply-\/accumulates */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00541}00541       acc0 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x1 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00542}00542       acc1 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x2 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00543}00543       acc2 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x3 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00544}00544       acc3 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x0 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00545}00545 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00546}00546       \textcolor{comment}{/* Read the b[numTaps-\/2] coefficient */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00547}00547       c0 = *(pb + 2U);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00548}00548 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00549}00549       \textcolor{comment}{/* Read x[n-\/numTaps-\/5] sample */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00550}00550       x1 = *(px + 2U);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00551}00551 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00552}00552       \textcolor{comment}{/* Perform the multiply-\/accumulates */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00553}00553       acc0 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x2 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00554}00554       acc1 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x3 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00555}00555       acc2 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x0 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00556}00556       acc3 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x1 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00557}00557 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00558}00558       \textcolor{comment}{/* Read the b[numTaps-\/3] coefficients */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00559}00559       c0 = *(pb + 3U);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00560}00560 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00561}00561       \textcolor{comment}{/* Read x[n-\/numTaps-\/6] sample */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00562}00562       x2 = *(px + 3U);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00563}00563 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00564}00564       \textcolor{comment}{/* Perform the multiply-\/accumulates */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00565}00565       acc0 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x3 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00566}00566       acc1 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x0 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00567}00567       acc2 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x1 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00568}00568       acc3 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x2 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00569}00569 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00570}00570       \textcolor{comment}{/* update coefficient pointer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00571}00571       pb += 4U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00572}00572       px += 4U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00573}00573 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00574}00574       \textcolor{comment}{/* Decrement loop counter */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00575}00575       tapCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00576}00576     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00577}00577 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00578}00578     \textcolor{comment}{/* If the filter length is not a multiple of 4, compute the remaining filter taps */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00579}00579     tapCnt = numTaps \% 0x4U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00580}00580 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00581}00581     \textcolor{keywordflow}{while} (tapCnt > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00582}00582     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00583}00583       \textcolor{comment}{/* Read coefficients */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00584}00584       c0 = *(pb++);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00585}00585 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00586}00586       \textcolor{comment}{/* Fetch 1 state variable */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00587}00587       x3 = *(px++);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00588}00588 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00589}00589       \textcolor{comment}{/* Perform the multiply-\/accumulates */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00590}00590       acc0 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x0 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00591}00591       acc1 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x1 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00592}00592       acc2 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x2 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00593}00593       acc3 += ((\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) x3 * c0);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00594}00594 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00595}00595       \textcolor{comment}{/* Reuse the present sample states for next sample */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00596}00596       x0 = x1;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00597}00597       x1 = x2;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00598}00598       x2 = x3;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00599}00599 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00600}00600       \textcolor{comment}{/* Decrement loop counter */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00601}00601       tapCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00602}00602     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00603}00603 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00604}00604     \textcolor{comment}{/* The results in the 4 accumulators are in 2.62 format. Convert to 1.31}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00605}00605 \textcolor{comment}{       Then store the 4 outputs in the destination buffer. */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00606}00606     acc0 = \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc0 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00607}00607     *pDst++ = acc0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00608}00608     acc1 = \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc1 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00609}00609     *pDst++ = acc1;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00610}00610     acc2 = \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc2 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00611}00611     *pDst++ = acc2;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00612}00612     acc3 = \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc3 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00613}00613     *pDst++ = acc3;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00614}00614 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00615}00615     \textcolor{comment}{/* Advance the state pointer by 4 to process the next group of 4 samples */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00616}00616     pState = pState + 4U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00617}00617 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00618}00618     \textcolor{comment}{/* Decrement loop counter */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00619}00619     blkCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00620}00620   \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00621}00621 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00622}00622   \textcolor{comment}{/* Loop unrolling: Compute remaining output samples */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00623}00623   blkCnt = blockSize \% 0x4U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00624}00624 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00625}00625 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00626}00626 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00627}00627   \textcolor{comment}{/* Initialize blkCnt with number of taps */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00628}00628   blkCnt = blockSize;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00629}00629 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00630}00630 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* \#if defined (ARM\_MATH\_LOOPUNROLL) */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00631}00631 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00632}00632   \textcolor{keywordflow}{while} (blkCnt > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00633}00633   \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00634}00634     \textcolor{comment}{/* Copy one sample at a time into state buffer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00635}00635     *pStateCurnt++ = *pSrc++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00636}00636 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00637}00637     \textcolor{comment}{/* Set the accumulator to zero */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00638}00638     acc0 = 0;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00639}00639 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00640}00640     \textcolor{comment}{/* Initialize state pointer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00641}00641     px = pState;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00642}00642 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00643}00643     \textcolor{comment}{/* Initialize Coefficient pointer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00644}00644     pb = pCoeffs;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00645}00645 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00646}00646     i = numTaps;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00647}00647 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00648}00648     \textcolor{comment}{/* Perform the multiply-\/accumulates */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00649}00649     \textcolor{keywordflow}{while} (i > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00650}00650     \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00651}00651       acc0 += (\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\_t}}) * (px++) * (*(pb++));}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00652}00652       i-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00653}00653     \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00654}00654 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00655}00655     \textcolor{comment}{/* The result is in 2.14 format. Convert to 1.7}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00656}00656 \textcolor{comment}{       Then store the output in the destination buffer. */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00657}00657     *pDst++ = \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga372c0535573dde3e37f0f08c774a3487}{\_\_SSAT}}((acc0 >> 7U), 8);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00658}00658 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00659}00659     \textcolor{comment}{/* Advance state pointer by 1 for the next sample */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00660}00660     pState = pState + 1U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00661}00661 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00662}00662     \textcolor{comment}{/* Decrement loop counter */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00663}00663     blkCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00664}00664   \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00665}00665 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00666}00666   \textcolor{comment}{/* Processing is complete.}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00667}00667 \textcolor{comment}{     Now copy the last numTaps -\/ 1 samples to the start of the state buffer.}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00668}00668 \textcolor{comment}{     This prepares the state buffer for the next function call. */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00669}00669 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00670}00670   \textcolor{comment}{/* Points to the start of the state buffer */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00671}00671   pStateCurnt = S-\/>\mbox{\hyperlink{structarm__fir__instance__q7_aa8f67102521b620af6f259afdcf29785}{pState}};}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00672}00672 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00673}00673 \textcolor{preprocessor}{\#if defined (ARM\_MATH\_LOOPUNROLL)}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00674}00674 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00675}00675   \textcolor{comment}{/* Loop unrolling: Compute 4 taps at a time */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00676}00676   tapCnt = (numTaps -\/ 1U) >> 2U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00677}00677 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00678}00678   \textcolor{comment}{/* Copy data */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00679}00679   \textcolor{keywordflow}{while} (tapCnt > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00680}00680   \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00681}00681     *pStateCurnt++ = *pState++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00682}00682     *pStateCurnt++ = *pState++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00683}00683     *pStateCurnt++ = *pState++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00684}00684     *pStateCurnt++ = *pState++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00685}00685 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00686}00686     \textcolor{comment}{/* Decrement loop counter */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00687}00687     tapCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00688}00688   \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00689}00689 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00690}00690   \textcolor{comment}{/* Calculate remaining number of copies */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00691}00691   tapCnt = (numTaps -\/ 1U) \% 0x4U;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00692}00692 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00693}00693 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00694}00694 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00695}00695   \textcolor{comment}{/* Initialize tapCnt with number of taps */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00696}00696   tapCnt = (numTaps -\/ 1U);}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00697}00697 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00698}00698 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* \#if defined (ARM\_MATH\_LOOPUNROLL) */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00699}00699 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00700}00700   \textcolor{comment}{/* Copy remaining data */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00701}00701   \textcolor{keywordflow}{while} (tapCnt > 0U)}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00702}00702   \{}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00703}00703     *pStateCurnt++ = *pState++;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00704}00704 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00705}00705     \textcolor{comment}{/* Decrement the loop counter */}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00706}00706     tapCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00707}00707   \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00708}00708 }
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00709}00709 \}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00710}00710 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* defined(ARM\_MATH\_MVEI) */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{arm__fir__q7_8c_source_l00711}00711 }

\end{DoxyCode}
