\hypertarget{arm__vec__fft_8h_source}{}\doxysection{arm\+\_\+vec\+\_\+fft.\+h}
\label{arm__vec__fft_8h_source}\index{Autodrone32/Libraries/CMSIS/Include/arm\_vec\_fft.h@{Autodrone32/Libraries/CMSIS/Include/arm\_vec\_fft.h}}
\mbox{\hyperlink{arm__vec__fft_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00001}00001 \textcolor{comment}{/******************************************************************************}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00002}00002 \textcolor{comment}{ * @file     arm\_vec\_fft.h}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00003}00003 \textcolor{comment}{ * @brief    Private header file for CMSIS DSP Library}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00004}00004 \textcolor{comment}{ * @version  V1.7.0}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00005}00005 \textcolor{comment}{ * @date     07. January 2020}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00006}00006 \textcolor{comment}{ ******************************************************************************/}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00007}00007 \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00008}00008 \textcolor{comment}{ * Copyright (c) 2010-\/2020 Arm Limited or its affiliates. All rights reserved.}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00009}00009 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00010}00010 \textcolor{comment}{ * SPDX-\/License-\/Identifier: Apache-\/2.0}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00011}00011 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00012}00012 \textcolor{comment}{ * Licensed under the Apache License, Version 2.0 (the License); you may}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00013}00013 \textcolor{comment}{ * not use this file except in compliance with the License.}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00014}00014 \textcolor{comment}{ * You may obtain a copy of the License at}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00015}00015 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00016}00016 \textcolor{comment}{ * www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00017}00017 \textcolor{comment}{ *}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00018}00018 \textcolor{comment}{ * Unless required by applicable law or agreed to in writing, software}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00019}00019 \textcolor{comment}{ * distributed under the License is distributed on an AS IS BASIS, WITHOUT}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00020}00020 \textcolor{comment}{ * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00021}00021 \textcolor{comment}{ * See the License for the specific language governing permissions and}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00022}00022 \textcolor{comment}{ * limitations under the License.}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00023}00023 \textcolor{comment}{ */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00025}00025 \textcolor{preprocessor}{\#ifndef \_ARM\_VEC\_FFT\_H\_}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00026}00026 \textcolor{preprocessor}{\#define \_ARM\_VEC\_FFT\_H\_}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00028}00028 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{arm__math_8h}{arm\_math.h}}"{}}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00029}00029 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{arm__helium__utils_8h}{arm\_helium\_utils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00031}00031 \textcolor{preprocessor}{\#ifdef   \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00032}00032 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00033}00033 \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00034}00034 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00036}00036 \textcolor{preprocessor}{\#if (defined(ARM\_MATH\_MVEF) || defined(ARM\_MATH\_MVEI) || defined(ARM\_MATH\_HELIUM)) \&\& !defined(ARM\_MATH\_AUTOVECTORIZE)}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00038}00038 \textcolor{preprocessor}{\#define MVE\_CMPLX\_ADD\_A\_ixB(A, B)           vcaddq\_rot90(A,B)}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00039}00039 \textcolor{preprocessor}{\#define MVE\_CMPLX\_SUB\_A\_ixB(A,B)            vcaddq\_rot270(A,B)}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00040}00040 \textcolor{preprocessor}{\#define MVE\_CMPLX\_MULT\_FLT\_AxB(A,B)         vcmlaq\_rot90(vcmulq(A, B), A, B)}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00041}00041 \textcolor{preprocessor}{\#define MVE\_CMPLX\_MULT\_FLT\_Conj\_AxB(A,B)    vcmlaq\_rot270(vcmulq(A, B), A, B)}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00042}00042 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00043}00043 \textcolor{preprocessor}{\#define MVE\_CMPLX\_MULT\_FX\_AxB(A,B)          vqdmladhxq(vqdmlsdhq((\_\_typeof(A))vuninitializedq\_s32(), A, B), A, B)}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00044}00044 \textcolor{preprocessor}{\#define MVE\_CMPLX\_MULT\_FX\_AxConjB(A,B)      vqdmladhq(vqdmlsdhxq((\_\_typeof(A))vuninitializedq\_s32(), A, B), A, B)}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00046}00046 \textcolor{preprocessor}{\#define MVE\_CMPLX\_ADD\_FX\_A\_ixB(A, B)        vhcaddq\_rot90(A,B)}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00047}00047 \textcolor{preprocessor}{\#define MVE\_CMPLX\_SUB\_FX\_A\_ixB(A,B)         vhcaddq\_rot270(A,B)}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00058}00058 \mbox{\hyperlink{cmsis__armcc_8h_aba87361bfad2ae52cfe2f40c1a1dbf9c}{\_\_STATIC\_INLINE}} \textcolor{keywordtype}{void} arm\_bitreversal\_32\_inpl\_mve(}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00059}00059         uint32\_t *pSrc,}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00060}00060   \textcolor{keyword}{const} uint16\_t  bitRevLen,}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00061}00061   \textcolor{keyword}{const} uint16\_t *pBitRevTab)}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00063}00063 \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00064}00064     uint64\_t       *src = (uint64\_t *) pSrc;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00065}00065     int32\_t         blkCnt;     \textcolor{comment}{/* loop counters */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00066}00066     uint32x4\_t      bitRevTabOff;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00067}00067     uint32x4\_t      one = vdupq\_n\_u32(1);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00068}00068     uint64x2\_t      inLow, inHigh;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00069}00069     uint64x2\_t      bitRevOff1Low, bitRevOff0Low;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00070}00070     uint64x2\_t      bitRevOff1High, bitRevOff0High;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00072}00072     \textcolor{comment}{/* load scheduling to increase gather load idx update / gather load distance */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00073}00073     bitRevTabOff = vldrhq\_u32(pBitRevTab);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00074}00074     pBitRevTab += 4;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00076}00076     bitRevOff0Low = vmullbq\_int\_u32(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00077}00077     bitRevOff0High = vmulltq\_int\_u32(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00078}00078 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00080}00080     blkCnt = bitRevLen / 8;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00081}00081     \textcolor{keywordflow}{while} (blkCnt > 0) \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00082}00082         bitRevTabOff = vldrhq\_u32(pBitRevTab);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00083}00083         pBitRevTab += 4;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00084}00084 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00085}00085         \textcolor{comment}{/* 64-\/bit index expansion */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00086}00086         bitRevOff1Low = vmullbq\_int\_u32(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00087}00087         bitRevOff1High = vmulltq\_int\_u32(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00088}00088 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00089}00089         inLow = vldrdq\_gather\_offset\_u64(src, bitRevOff0Low);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00090}00090         inHigh = vldrdq\_gather\_offset\_u64(src, bitRevOff0High);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00091}00091 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00092}00092         vstrdq\_scatter\_offset\_u64(src, bitRevOff0Low, inHigh);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00093}00093         vstrdq\_scatter\_offset\_u64(src, bitRevOff0High, inLow);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00094}00094 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00095}00095 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00096}00096         \textcolor{comment}{/* unrolled */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00097}00097         bitRevTabOff = vldrhq\_u32(pBitRevTab);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00098}00098         pBitRevTab += 4;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00100}00100         bitRevOff0Low = vmullbq\_int\_u32(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00101}00101         bitRevOff0High = vmulltq\_int\_u32(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00103}00103         inLow = vldrdq\_gather\_offset\_u64(src, bitRevOff1Low);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00104}00104         inHigh = vldrdq\_gather\_offset\_u64(src, bitRevOff1High);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00105}00105 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00106}00106         vstrdq\_scatter\_offset\_u64(src, bitRevOff1Low, inHigh);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00107}00107         vstrdq\_scatter\_offset\_u64(src, bitRevOff1High, inLow);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00109}00109         \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00110}00110 \textcolor{comment}{         * Decrement the blockSize loop counter}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00111}00111 \textcolor{comment}{         */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00112}00112         blkCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00113}00113     \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00114}00114 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00115}00115     \textcolor{keywordflow}{if} (bitRevLen \& 7) \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00116}00116         \textcolor{comment}{/* FFT size = 16 */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00117}00117         inLow = vldrdq\_gather\_offset\_u64(src, bitRevOff0Low);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00118}00118         inHigh = vldrdq\_gather\_offset\_u64(src, bitRevOff0High);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00119}00119 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00120}00120         vstrdq\_scatter\_offset\_u64(src, bitRevOff0Low, inHigh);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00121}00121         vstrdq\_scatter\_offset\_u64(src, bitRevOff0High, inLow);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00122}00122     \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00123}00123 \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00124}00124 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00125}00125 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00126}00126 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00135}00135 \mbox{\hyperlink{cmsis__armcc_8h_aba87361bfad2ae52cfe2f40c1a1dbf9c}{\_\_STATIC\_INLINE}} \textcolor{keywordtype}{void} arm\_bitreversal\_16\_inpl\_mve(}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00136}00136         uint16\_t *pSrc,}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00137}00137   \textcolor{keyword}{const} uint16\_t bitRevLen,}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00138}00138   \textcolor{keyword}{const} uint16\_t *pBitRevTab)}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00139}00139 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00140}00140 \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00141}00141     uint32\_t       *src = (uint32\_t *) pSrc;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00142}00142     int32\_t         blkCnt;     \textcolor{comment}{/* loop counters */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00143}00143     uint32x4\_t      bitRevTabOff;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00144}00144     uint16x8\_t      one = vdupq\_n\_u16(1);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00145}00145     uint32x4\_t      bitRevOff1Low, bitRevOff0Low;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00146}00146     uint32x4\_t      bitRevOff1High, bitRevOff0High;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00147}00147     uint32x4\_t      inLow, inHigh;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00148}00148 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00149}00149     \textcolor{comment}{/* load scheduling to increase gather load idx update / gather load distance */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00150}00150     bitRevTabOff = vldrhq\_u16(pBitRevTab);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00151}00151     pBitRevTab += 8;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00152}00152 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00153}00153     bitRevOff0Low = vmullbq\_int\_u16(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00154}00154     bitRevOff0High = vmulltq\_int\_u16(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00155}00155     bitRevOff0Low = vshrq\_n\_u16(bitRevOff0Low, 3);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00156}00156     bitRevOff0High = vshrq\_n\_u16(bitRevOff0High, 3);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00157}00157 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00158}00158     blkCnt = (bitRevLen / 16);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00159}00159     \textcolor{keywordflow}{while} (blkCnt > 0) \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00160}00160         bitRevTabOff = vldrhq\_u16(pBitRevTab);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00161}00161         pBitRevTab += 8;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00162}00162 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00163}00163         bitRevOff1Low = vmullbq\_int\_u16(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00164}00164         bitRevOff1High = vmulltq\_int\_u16(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00165}00165         bitRevOff1Low = vshrq\_n\_u16(bitRevOff1Low, 3);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00166}00166         bitRevOff1High = vshrq\_n\_u16(bitRevOff1High, 3);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00167}00167 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00168}00168         inLow = vldrwq\_gather\_shifted\_offset\_u32(src, bitRevOff0Low);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00169}00169         inHigh = vldrwq\_gather\_shifted\_offset\_u32(src, bitRevOff0High);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00170}00170 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00171}00171         vstrwq\_scatter\_shifted\_offset\_u32(src, bitRevOff0Low, inHigh);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00172}00172         vstrwq\_scatter\_shifted\_offset\_u32(src, bitRevOff0High, inLow);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00173}00173 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00174}00174         \textcolor{comment}{/* loop unrolling */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00175}00175         bitRevTabOff = vldrhq\_u16(pBitRevTab);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00176}00176         pBitRevTab += 8;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00177}00177 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00178}00178         bitRevOff0Low = vmullbq\_int\_u16(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00179}00179         bitRevOff0High = vmulltq\_int\_u16(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00180}00180         bitRevOff0Low = vshrq\_n\_u16(bitRevOff0Low, 3);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00181}00181         bitRevOff0High = vshrq\_n\_u16(bitRevOff0High, 3);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00182}00182 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00183}00183         inLow = vldrwq\_gather\_shifted\_offset\_u32(src, bitRevOff1Low);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00184}00184         inHigh = vldrwq\_gather\_shifted\_offset\_u32(src, bitRevOff1High);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00185}00185 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00186}00186         vstrwq\_scatter\_shifted\_offset\_u32(src, bitRevOff1Low, inHigh);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00187}00187         vstrwq\_scatter\_shifted\_offset\_u32(src, bitRevOff1High, inLow);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00188}00188 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00189}00189         blkCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00190}00190     \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00191}00191 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00192}00192     \textcolor{comment}{/* tail handling */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00193}00193     blkCnt = bitRevLen \& 0xf;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00194}00194     \textcolor{keywordflow}{if} (blkCnt == 8) \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00195}00195         inLow = vldrwq\_gather\_shifted\_offset\_u32(src, bitRevOff0Low);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00196}00196         inHigh = vldrwq\_gather\_shifted\_offset\_u32(src, bitRevOff0High);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00197}00197 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00198}00198         vstrwq\_scatter\_shifted\_offset\_u32(src, bitRevOff0Low, inHigh);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00199}00199         vstrwq\_scatter\_shifted\_offset\_u32(src, bitRevOff0High, inLow);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00200}00200     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (blkCnt == 12) \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00201}00201         \textcolor{comment}{/* FFT 16 special case */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00202}00202         mve\_pred16\_t    p = vctp16q(4);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00203}00203 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00204}00204         bitRevTabOff = vldrhq\_z\_u16(pBitRevTab, p);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00205}00205 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00206}00206         inLow = vldrwq\_gather\_shifted\_offset\_u32(src, bitRevOff0Low);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00207}00207         inHigh = vldrwq\_gather\_shifted\_offset\_u32(src, bitRevOff0High);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00208}00208 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00209}00209         vstrwq\_scatter\_shifted\_offset\_u32(src, bitRevOff0Low, inHigh);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00210}00210         vstrwq\_scatter\_shifted\_offset\_u32(src, bitRevOff0High, inLow);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00211}00211 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00212}00212         bitRevOff0Low = vmullbq\_int\_u16(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00213}00213         bitRevOff0High = vmulltq\_int\_u16(bitRevTabOff, one);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00214}00214         bitRevOff0Low = vshrq\_n\_u16(bitRevOff0Low, 3);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00215}00215         bitRevOff0High = vshrq\_n\_u16(bitRevOff0High, 3);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00216}00216 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00217}00217         inLow = vldrwq\_gather\_shifted\_offset\_z\_u32(src, bitRevOff0Low, p);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00218}00218         inHigh = vldrwq\_gather\_shifted\_offset\_z\_u32(src, bitRevOff0High, p);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00219}00219 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00220}00220         vstrwq\_scatter\_shifted\_offset\_p\_u32(src, bitRevOff0Low, inHigh, p);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00221}00221         vstrwq\_scatter\_shifted\_offset\_p\_u32(src, bitRevOff0High, inLow, p);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00222}00222     \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00223}00223 \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00224}00224 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00232}00232 \mbox{\hyperlink{cmsis__armcc_8h_aba87361bfad2ae52cfe2f40c1a1dbf9c}{\_\_STATIC\_INLINE}} \textcolor{keywordtype}{void} arm\_bitreversal\_32\_outpl\_mve(\textcolor{keywordtype}{void} *pDst, \textcolor{keywordtype}{void} *pSrc, uint32\_t fftLen)}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00233}00233 \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00234}00234     uint32x4\_t      idxOffs0, idxOffs1, bitRevOffs0, bitRevOffs1;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00235}00235     uint32\_t        bitRevPos, blkCnt;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00236}00236     uint32\_t       *pDst32 = (uint32\_t *) pDst;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00237}00237 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00238}00238     \textcolor{comment}{/* fwd indexes */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00239}00239     idxOffs0 = vdupq\_n\_u32(0);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00240}00240     idxOffs1 = vdupq\_n\_u32(0);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00241}00241     idxOffs0[0] = 0;    idxOffs0[2] = 4;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00242}00242     idxOffs1[0] = 8;    idxOffs1[2] = 12;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00243}00243 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00244}00244     bitRevPos = (31 -\/ \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga5d5bb1527e042be4a9fa5a33f65cc248}{\_\_CLZ}}(fftLen)) + 5;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00245}00245     blkCnt = fftLen >> 2;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00246}00246 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00247}00247     \textcolor{comment}{/* issued earlier to increase gather load idx update / gather load distance */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00248}00248     \textcolor{comment}{/* bit-\/reverse fwd indexes */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00249}00249     bitRevOffs0 = vbrsrq(idxOffs0, bitRevPos);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00250}00250     bitRevOffs1 = vbrsrq(idxOffs1, bitRevPos);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00251}00251     \textcolor{keywordflow}{while} (blkCnt > 0) \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00252}00252         uint64x2\_t      vecIn;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00253}00253 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00254}00254         vecIn = vldrdq\_gather\_offset\_u64(pSrc, (int64x2\_t) bitRevOffs0);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00255}00255         idxOffs0 = idxOffs0 + 16;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00256}00256         vst1q(pDst32, (uint32x4\_t) vecIn);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00257}00257         pDst32 += 4;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00258}00258         bitRevOffs0 = vbrsrq(idxOffs0, bitRevPos);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00259}00259 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00260}00260         vecIn = vldrdq\_gather\_offset\_u64(pSrc, (int64x2\_t) bitRevOffs1);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00261}00261         idxOffs1 = idxOffs1 + 16;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00262}00262         vst1q(pDst32, (uint32x4\_t) vecIn);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00263}00263         pDst32 += 4;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00264}00264         bitRevOffs1 = vbrsrq(idxOffs1, bitRevPos);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00265}00265 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00266}00266         blkCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00267}00267     \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00268}00268 \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00269}00269 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00270}00270 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00279}00279 \mbox{\hyperlink{cmsis__armcc_8h_aba87361bfad2ae52cfe2f40c1a1dbf9c}{\_\_STATIC\_INLINE}} \textcolor{keywordtype}{void} arm\_bitreversal\_16\_outpl\_mve(\textcolor{keywordtype}{void} *pDst, \textcolor{keywordtype}{void} *pSrc, uint32\_t fftLen)}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00280}00280 \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00281}00281     uint32x4\_t      idxOffs0, idxOffs1, bitRevOffs0, bitRevOffs1;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00282}00282     uint32\_t        bitRevPos, blkCnt;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00283}00283     uint16\_t       *pDst16 = (uint16\_t *) pDst;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00284}00284     uint32\_t        incrIdx = 0;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00285}00285 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00286}00286     \textcolor{comment}{/* fwd indexes */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00287}00287     idxOffs0 = vidupq\_wb\_u32(\&incrIdx, 4);    \textcolor{comment}{// \{0, 4, 8, 12\}}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00288}00288     idxOffs1 = vidupq\_wb\_u32(\&incrIdx, 4);    \textcolor{comment}{// \{16, 20, 24, 28\}}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00289}00289 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00290}00290     bitRevPos = (31 -\/ \mbox{\hyperlink{group___c_m_s_i_s___core___instruction_interface_ga5d5bb1527e042be4a9fa5a33f65cc248}{\_\_CLZ}}(fftLen)) + 4;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00291}00291     blkCnt = fftLen >> 3;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00292}00292 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00293}00293     \textcolor{comment}{/* issued earlier to increase gather load idx update / gather load distance */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00294}00294     \textcolor{comment}{/* bit-\/reverse fwd indexes */}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00295}00295     bitRevOffs0 = vbrsrq(idxOffs0, bitRevPos);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00296}00296     bitRevOffs1 = vbrsrq(idxOffs1, bitRevPos);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00297}00297     \textcolor{keywordflow}{while} (blkCnt > 0) \{}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00298}00298         uint32x4\_t      vecIn;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00299}00299 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00300}00300         vecIn = vldrwq\_gather\_offset\_s32(pSrc, bitRevOffs0);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00301}00301         idxOffs0 = idxOffs0 + 32;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00302}00302         vst1q(pDst16, (uint16x8\_t) vecIn);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00303}00303         pDst16 += 8;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00304}00304         bitRevOffs0 = vbrsrq(idxOffs0, bitRevPos);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00305}00305 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00306}00306         vecIn = vldrwq\_gather\_offset\_s32(pSrc, bitRevOffs1);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00307}00307         idxOffs1 = idxOffs1 + 32;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00308}00308         vst1q(pDst16, (uint16x8\_t) vecIn);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00309}00309         pDst16 += 8;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00310}00310         bitRevOffs1 = vbrsrq(idxOffs1, bitRevPos);}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00311}00311 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00312}00312         blkCnt-\/-\/;}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00313}00313     \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00314}00314 \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00315}00315 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00316}00316 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00317}00317 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* (defined(ARM\_MATH\_MVEF) || defined(ARM\_MATH\_HELIUM)) \&\& !defined(ARM\_MATH\_AUTOVECTORIZE)*/}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00318}00318 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00319}00319 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00320}00320 \textcolor{preprocessor}{\#ifdef   \_\_cplusplus}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00321}00321 \}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00322}00322 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00323}00323 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00324}00324 }
\DoxyCodeLine{\Hypertarget{arm__vec__fft_8h_source_l00325}00325 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* \_ARM\_VEC\_FFT\_H\_ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
