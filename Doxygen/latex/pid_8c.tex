\hypertarget{pid_8c}{}\doxysection{/\+Users/jeremywolfe/\+Documents/\+STM32\+Cube\+IDE/\+Autodrone32/\+Src/pid.c File Reference}
\label{pid_8c}\index{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/pid.c@{/Users/jeremywolfe/Documents/STM32CubeIDE/Autodrone32/Src/pid.c}}


This files initializes and updates the PID controller.  


{\ttfamily \#include \char`\"{}board.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{pid_8c_a34f1eb3b081b092ebb280449a0442028}{init\+PID}} (void)
\begin{DoxyCompactList}\small\item\em Initializes the PID states. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{pid_8c_acb47bee3fd9e9579d91fc045a7f87e8d}{update\+PID}} (float error, float deltaT, uint8\+\_\+t reset, struct \mbox{\hyperlink{struct_p_i_ddata}{PIDdata}} $\ast$PIDparameters)
\begin{DoxyCompactList}\small\item\em Updates the PID states. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{pid_8c_aa4ba6c35e0b8d3b3c1fb61ca83c2b6af}{init\+PIDvalues}} (void)
\begin{DoxyCompactList}\small\item\em Allows the user to change the PID values. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{pid_8c_a02dc45a9a10c03f0dc29ef31c0da5368}{set\+PIDstates}} (uint8\+\_\+t IDPid, float value)
\begin{DoxyCompactList}\small\item\em Set the state of the PIDs. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{pid_8c_aaf22589c0540858f845cba698115b4dd}{zero\+PIDstates}} (void)
\begin{DoxyCompactList}\small\item\em Set all states to 0. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{pid_8c_a2411ec293e48a57a17a63d25e1c47907}{pid\+Reset}} = true
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This files initializes and updates the PID controller. 

\begin{DoxyAuthor}{Author}
Jeremy Wolfe 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
07 MAR 2022 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{pid_8c_source}{pid.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{pid_8c_a34f1eb3b081b092ebb280449a0442028}\label{pid_8c_a34f1eb3b081b092ebb280449a0442028}} 
\index{pid.c@{pid.c}!initPID@{initPID}}
\index{initPID@{initPID}!pid.c@{pid.c}}
\doxysubsubsection{\texorpdfstring{initPID()}{initPID()}}
{\footnotesize\ttfamily void init\+PID (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Initializes the PID states. 

\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{pid_8c_source_l00020}{20}} of file \mbox{\hyperlink{pid_8c_source}{pid.\+c}}.

\mbox{\Hypertarget{pid_8c_aa4ba6c35e0b8d3b3c1fb61ca83c2b6af}\label{pid_8c_aa4ba6c35e0b8d3b3c1fb61ca83c2b6af}} 
\index{pid.c@{pid.c}!initPIDvalues@{initPIDvalues}}
\index{initPIDvalues@{initPIDvalues}!pid.c@{pid.c}}
\doxysubsubsection{\texorpdfstring{initPIDvalues()}{initPIDvalues()}}
{\footnotesize\ttfamily void init\+PIDvalues (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Allows the user to change the PID values. 

\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{pid_8c_source_l00088}{88}} of file \mbox{\hyperlink{pid_8c_source}{pid.\+c}}.

\mbox{\Hypertarget{pid_8c_a02dc45a9a10c03f0dc29ef31c0da5368}\label{pid_8c_a02dc45a9a10c03f0dc29ef31c0da5368}} 
\index{pid.c@{pid.c}!setPIDstates@{setPIDstates}}
\index{setPIDstates@{setPIDstates}!pid.c@{pid.c}}
\doxysubsubsection{\texorpdfstring{setPIDstates()}{setPIDstates()}}
{\footnotesize\ttfamily void set\+PIDstates (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{IDPid,  }\item[{float}]{value }\end{DoxyParamCaption})}



Set the state of the PIDs. 


\begin{DoxyParams}{Parameters}
{\em IDPid} & Which PID state you want to change. \\
\hline
{\em value} & The value to write. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{pid_8c_source_l00162}{162}} of file \mbox{\hyperlink{pid_8c_source}{pid.\+c}}.

\mbox{\Hypertarget{pid_8c_acb47bee3fd9e9579d91fc045a7f87e8d}\label{pid_8c_acb47bee3fd9e9579d91fc045a7f87e8d}} 
\index{pid.c@{pid.c}!updatePID@{updatePID}}
\index{updatePID@{updatePID}!pid.c@{pid.c}}
\doxysubsubsection{\texorpdfstring{updatePID()}{updatePID()}}
{\footnotesize\ttfamily float update\+PID (\begin{DoxyParamCaption}\item[{float}]{error,  }\item[{float}]{deltaT,  }\item[{uint8\+\_\+t}]{reset,  }\item[{struct \mbox{\hyperlink{struct_p_i_ddata}{PIDdata}} $\ast$}]{PIDparameters }\end{DoxyParamCaption})}



Updates the PID states. 


\begin{DoxyParams}{Parameters}
{\em error} & Commanded changed minus measured change. \\
\hline
{\em deltaT} & Time between updates in sec. \\
\hline
{\em reset} & If the PID states should be reset. \\
\hline
{\em $\ast$\+PIDparameters} & Struct containing the parameters of the PID controller. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
float Output from the algorithm. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{pid_8c_source_l00041}{41}} of file \mbox{\hyperlink{pid_8c_source}{pid.\+c}}.

\mbox{\Hypertarget{pid_8c_aaf22589c0540858f845cba698115b4dd}\label{pid_8c_aaf22589c0540858f845cba698115b4dd}} 
\index{pid.c@{pid.c}!zeroPIDstates@{zeroPIDstates}}
\index{zeroPIDstates@{zeroPIDstates}!pid.c@{pid.c}}
\doxysubsubsection{\texorpdfstring{zeroPIDstates()}{zeroPIDstates()}}
{\footnotesize\ttfamily void zero\+PIDstates (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Set all states to 0. 

\begin{DoxyReturn}{Returns}
Void. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{pid_8c_source_l00173}{173}} of file \mbox{\hyperlink{pid_8c_source}{pid.\+c}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{pid_8c_a2411ec293e48a57a17a63d25e1c47907}\label{pid_8c_a2411ec293e48a57a17a63d25e1c47907}} 
\index{pid.c@{pid.c}!pidReset@{pidReset}}
\index{pidReset@{pidReset}!pid.c@{pid.c}}
\doxysubsubsection{\texorpdfstring{pidReset}{pidReset}}
{\footnotesize\ttfamily uint8\+\_\+t pid\+Reset = true}



Definition at line \mbox{\hyperlink{pid_8c_source_l00013}{13}} of file \mbox{\hyperlink{pid_8c_source}{pid.\+c}}.

